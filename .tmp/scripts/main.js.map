{"version":3,"sources":["main.js"],"names":["contract_abidefinition","contract_address","contract","window","addEventListener","web3","Web3","providers","HttpProvider","startApp","isConnected","console","log","updateUI","getNodeVersion","retrieveDeployedContract","getTotalFundsRaised","getDoctorIdentity","getDoctorsAvailableFunds","version","getNode","error","result","eth","at","watchForEvent","watchForFundsReleased","checkTotalFundsRaised","call","viewRegisterVillager","registerVillager","gas","viewGetVillagerIdentity","getConfirmationOfTreatment","viewRegisterDoctor","registerDoctor","getIdentityOfDoctor","getVillagerIdentity","getVillagerTreatmentState","checkAvailableReleasedFunds","donteFundsBackend","donateInput","parseInt","sendTransaction","to","value","confirmTreatment","latestBlock","getBlock","blockFromContract","getTransaction","blockNumber","block","timestamp","date","Date","toString","FundsContributed","target","fromBlock","toBlock","watch","FundsReleased"],"mappings":"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","file":"main.js","sourcesContent":["/**\n * ABI and contract\n * \n */\nvar contract_abidefinition = [ { \"constant\": false, \"inputs\": [ { \"name\": \"_name\", \"type\": \"string\" }, { \"name\": \"_DOB\", \"type\": \"string\" }, { \"name\": \"_gender\", \"type\": \"string\" } ], \"name\": \"registerVillager\", \"outputs\": [], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [ { \"name\": \"_name\", \"type\": \"string\" }, { \"name\": \"_id\", \"type\": \"uint256\" } ], \"name\": \"registerDoctor\", \"outputs\": [], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [], \"name\": \"withdrawFunds\", \"outputs\": [], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [], \"name\": \"confirmTreatment\", \"outputs\": [ { \"name\": \"\", \"type\": \"uint256\" } ], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [], \"name\": \"retrieveDoctorsAvailableFunds\", \"outputs\": [ { \"name\": \"\", \"type\": \"uint256\" } ], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [], \"name\": \"checkAvailableReleasedFunds\", \"outputs\": [ { \"name\": \"\", \"type\": \"uint256\" } ], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [], \"name\": \"getVillagerIdentity\", \"outputs\": [ { \"name\": \"\", \"type\": \"string\" }, { \"name\": \"\", \"type\": \"address\" }, { \"name\": \"\", \"type\": \"string\" }, { \"name\": \"\", \"type\": \"string\" }, { \"name\": \"\", \"type\": \"uint256\" } ], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [], \"name\": \"retrieveDoctor\", \"outputs\": [ { \"name\": \"\", \"type\": \"address\" } ], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [], \"name\": \"checkTotalFundsRaised\", \"outputs\": [ { \"name\": \"\", \"type\": \"uint256\" } ], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [], \"name\": \"getIdentityOfDoctor\", \"outputs\": [ { \"name\": \"\", \"type\": \"string\" }, { \"name\": \"\", \"type\": \"uint256\" }, { \"name\": \"\", \"type\": \"address\" } ], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [], \"name\": \"getConfirmationOfTreatment\", \"outputs\": [ { \"name\": \"\", \"type\": \"bool\" } ], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"inputs\": [ { \"name\": \"_totalRaised\", \"type\": \"uint256\" } ], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"constructor\" }, { \"payable\": true, \"stateMutability\": \"payable\", \"type\": \"fallback\" }, { \"anonymous\": false, \"inputs\": [], \"name\": \"FundsContributed\", \"type\": \"event\" }, { \"anonymous\": false, \"inputs\": [], \"name\": \"FundsReleased\", \"type\": \"event\" } ];\n\nvar contract_address = '0xf1d316512ec5d70d350548a39fa38dd772215469';\nvar contract;\n\n\n/**\n * Web page load listener\n */\nwindow.addEventListener('load', function() {\n\n    //Web3 instance from testrpc\n    window.web3 = new Web3(new Web3.providers.HttpProvider('http://localhost:8545'));\n\n    startApp();\n});\n\n\n/**\n * Function that kicks off the app\n */\nfunction startApp() {\n\n    if (web3 && web3.isConnected()) {\n        //Testing if we can log print\n        console.log(\"Web 3 is connected\");\n\n        //Testing if we can update the UI\n        updateUI('connect_status', 'Connected', false);\n    }\n\n    getNodeVersion();\n    retrieveDeployedContract();\n\n    getTotalFundsRaised();\n    getDoctorIdentity();\n    getDoctorsAvailableFunds();\n}\n\n\n/**\n * Function to understand web3 api\n */\n\nfunction getNodeVersion() {\n    web3.version.getNode(function(error, result) {\n        if (error) console.log(\"There was an error: \" + error);\n        else {\n            console.log(\"There was a result: \" + result);\n        }\n    });\n}\n\n\n/**\n * Functions to interact with deployed contract\n */\nfunction retrieveDeployedContract() {\n    // Retrieved the contract from the local geth node\n    contract = web3.eth.contract(contract_abidefinition).at(contract_address);\n    watchForEvent();\n    watchForFundsReleased();\n}\n\nfunction getTotalFundsRaised() {\n    contract.checkTotalFundsRaised.call(function(error, result) {\n        if (error) {\n            console.log(\"There was an error\");\n            console.log(error);\n            updateUI('total_funds', \"Can't access the blockchain\");\n        }\n        else {\n            updateUI('total_funds', result);\n        }\n    });\n}\n\n//Internal Function\nfunction viewRegisterVillager() {\n    contract.registerVillager(\"Charlize Smith\", \"24/04/1995\", \"Female\", {gas: 4032432}, function(error, result) {\n        if (error) {\n            console.log(error);\n        }\n        else {\n            console.log(\"Result successful:\");\n            console.log(result);\n            viewGetVillagerIdentity();\n        }\n    });\n\n    contract.getConfirmationOfTreatment.call(function(error, result) {\n        if (error) {\n            console.log(error);\n        }\n        else {\n            console.log(\"Result successful:\");\n            console.log(result);\n            updateUI('villager_confirmation_of_treatment', result);\n        }\n    });\n}\n\nfunction viewRegisterDoctor() {\n    contract.registerDoctor(\"Dr Moresby\", 4, {gas: 4032432}, function(error, result) {\n        if (error) {\n            console.log(error);\n        }\n        else {\n            console.log(\"Result successful:\");\n            console.log(result);\n            getDoctorIdentity();\n        }\n    })\n}\n\nfunction getDoctorIdentity() {\n    console.log(\"GET DOCTOR IDENTITY CALLED!!!\");\n    contract.getIdentityOfDoctor.call(function(error, result) {\n        if (error) {\n            updateUI('doctor_identity_name', \"Can't access the blockchain\");\n        }\n        else {\n            console.log(result);\n            updateUI('doctor_identity_name', result[0]);\n            updateUI('doctor_identity_id', result[1]);\n            updateUI('doctor_identity_id_box', result[2])\n        }\n    });\n}\n\n/**\n * Retrieve villager state\n */\nfunction viewGetVillagerIdentity() {\n    contract.getVillagerIdentity.call(function(error, result) {\n        if (error) {\n            updateUI('villager_identity_name', \"Can't access the blockchain\");\n        } else {\n            console.log(result);\n            updateUI('villager_identity_name', result[0]);\n            updateUI('villager_identity_id', result[1]);\n            updateUI('villager_identity_gender', result[2]);\n            updateUI('villager_identity_DOB', result[3]);\n\n            if (result[4] != 0)\n                updateUI('villager_time_of_treatment', result[4]);\n            else\n                updateUI(\"villager_time_of_treatment\", \"Villager has not been treated\");\n        }\n    })\n}\n\nfunction getVillagerIdentity() {\n    console.log(\"GET DOCTOR IDENTITY CALLED!!!\");\n    contract.getVillagerIdentity.call(function(error, result) {\n        if (error) {\n            updateUI('doctor_identity_name', \"Can't access the blockchain\");\n        }\n        else {\n            console.log(result);\n            updateUI('villager_identity_name', result[0]);\n            updateUI('villager_identity_id', result[1]);\n            updateUI('villager_identity_gender', result[2])\n            updateUI('villager_identity_DOB', result[2])\n        }\n    });\n}\n\nfunction getVillagerTreatmentState() {\n    contract.getConfirmationOfTreatment.call(function(error, result) {\n        if (error) {\n            updateUI('villager_confirmation_of_treatment', \"Can't access the blockchain\");\n        }\n        else {\n            updateUI('villager_confirmation_of_treatment', result);\n        }\n    });\n}\n\nfunction getDoctorsAvailableFunds() {\n    console.log(\"GET DOCTOR FUNDS AVAILABLE\");\n\n    contract.checkAvailableReleasedFunds.call(function(error, result) {\n        if (error) {\n            updateUI('doctor_identity_name', \"Can't access the blockchain\");\n        }\n        else {\n            console.log(\"FUNDS RELEASED UPDATED\");\n            console.log(result);\n            updateUI('doctor_available_funds', result);\n        }\n    });\n}\n\nfunction donteFundsBackend(donateInput) {\n    console.log(\"Donating funds: \");\n    console.log(parseInt(donateInput));\n\n    web3.eth.sendTransaction({to: contract_address, value: donateInput});\n}\n\n\nfunction confirmTreatment() {\n    contract.confirmTreatment(function(error, result) {\n        if (error) {\n            console.log(\"There was an error\");\n        } else {\n            var latestBlock = web3.eth.getBlock('latest');\n\n            var blockFromContract = web3.eth.getTransaction(result);\n            var blockNumber = blockFromContract.blockNumber;\n            var block = web3.eth.getBlock(blockNumber);\n            var timestamp = block.timestamp;\n            var date = new Date(timestamp*1000);\n            \n            updateUI('villager_time_of_treatment', date.toString());\n            console.log(date);\n        }\n    })\n}\n\n\n\n/**\n * Monitoring events from the contract\n */\nfunction watchForEvent() {\n\n    // Watch for Funds Contributed Events\n    contract.FundsContributed({target: \"FundsContributed\"}, {fromBlock: 0, toBlock: 'latest'}).watch(function(error, result) {\n        if (error)\n            console.log(\"error\")\n        else {\n            console.log(\"events fired\");\n            console.log(\"FUND CONTRIBUTED SEEN!\");\n\n            getTotalFundsRaised();\n        }\n            \n    });   \n}\n\nfunction watchForFundsReleased() {\n     // Watch for Funds Released Events;\n     contract.FundsReleased({target: \"FundsReleased\"}, {fromBlock: 0, toBlock: 'latest'}).watch(function(error, result) {\n        if (error)\n            console.log(\"error\")\n        else {\n            console.log(\"events fired\");\n            console.log(\"FUND CONTRIBUTED SEEN!\");\n\n            getTotalFundsRaised();\n            getDoctorsAvailableFunds();\n        }\n            \n    });\n}\n\n// function watchForVillagerConfirmation() {\n//     contract.VillagerConfirmationTimeStamp({target: \"FundsReleased\"}, {fromBlock: 0, toBlock: 'latest'}).watch(function(error, result) {\n\n//     })\n// }\n\n"]}